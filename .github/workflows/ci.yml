name: CI

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  validate-html:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Validate HTML files
        run: |
          echo "Checking HTML files..."
          for file in *.html personal-index/*.html "Sport tracker"/*.html; do
            if [ -f "$file" ]; then
              echo "✓ Found: $file"
              # Basic validation - check if files contain HTML structure
              if grep -q "<!DOCTYPE html>" "$file"; then
                echo "  - Valid DOCTYPE"
              else
                echo "  - Warning: Missing DOCTYPE"
              fi
            fi
          done

      - name: Check file integrity
        run: |
          echo "Validating critical files..."
          test -f "gym-tracker-app.html" && echo "✓ gym-tracker-app.html exists" || echo "✗ Missing gym-tracker-app.html"
          test -f "README.md" && echo "✓ README.md exists" || echo "✗ Missing README.md"
          test -d "personal-index" && echo "✓ personal-index folder exists" || echo "✗ Missing personal-index"
          test -d "Sport tracker" && echo "✓ Sport tracker folder exists" || echo "✗ Missing Sport tracker"