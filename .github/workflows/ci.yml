name: CI - HTML5 Standalone Apps

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  validate-html:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Validate HTML files exist
        run: |
          echo "=== Checking HTML files ==="
          test -f "gym-tracker-app.html" && echo "✓ gym-tracker-app.html" || (echo "✗ Missing gym-tracker-app.html" && exit 1)
          test -f "Sport tracker/gym-tracker.html" && echo "✓ Sport tracker/gym-tracker.html" || (echo "✗ Missing Sport tracker/gym-tracker.html" && exit 1)
          test -f "personal-index/index.html" && echo "✓ personal-index/index.html" || (echo "✗ Missing personal-index/index.html" && exit 1)
          test -f "README.md" && echo "✓ README.md" || (echo "✗ Missing README.md" && exit 1)

      - name: Check HTML structure
        run: |
          echo "=== Validating HTML structure ==="
          for file in gym-tracker-app.html "Sport tracker/gym-tracker.html" personal-index/index.html personal-index/vakantieplanning.html personal-index/werknemerplanning.html; do
            if [ -f "$file" ]; then
              echo "Checking $file..."
              grep -q "<!DOCTYPE html>" "$file" && echo "  ✓ Valid DOCTYPE" || echo "  ⚠ Missing DOCTYPE"
              grep -q "<html" "$file" && echo "  ✓ HTML tag found" || echo "  ⚠ Missing HTML tag"
              grep -q "<body" "$file" && echo "  ✓ Body tag found" || echo "  ⚠ Missing body tag"
              grep -q "</html>" "$file" && echo "  ✓ Closing HTML tag found" || echo "  ⚠ Missing closing HTML tag"
            fi
          done

      - name: Repository info
        run: |
          echo "=== Repository Information ==="
          echo "Project: Gym-Tracker"
          echo "Type: HTML5 Standalone Applications"
          echo "No Node.js/npm dependencies required"
          ls -la